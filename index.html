<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="LatencyFix is the first plugin to automate latency compensation across studio, live, and remote audio workflows. Built for sound engineers, producers, and live technicians." />
  <title>LatencyFix – Real-time sync for analog and digital sound systems</title>
  <style>
    :root {
      --bg-color: #0d0d0b;
      --text-color: #ffffff;
      --secondary-color: #bbbbbb;
      --section-bg: #2a2a2a;
      --button-bg: #9dbba7;
      --button-text: #000000;
      --link-color: #9dbba7;
      --link-hover: #b4cfc0;
    }    
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg-color);
      color: var(--text-color);
    }

    input, textarea, select {
    background: #222;
    color: #fff;
    border: 1px solid #333;
    }
    
    header {
      padding: 3rem 2rem;
      background: var(--bg-color);
      text-align: center;
    }
    header img {
      max-width: 150px;
      margin-bottom: 1rem;
    }
    header h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    header p {
      font-size: 1.2rem;
      color: var(--secondary-color);
    }
    .section {
      padding: 4rem 2rem;
      max-width: 960px;
      margin: auto;
    }
    .features {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }
    .feature {
      background: var(--section-bg);
      padding: 1.5rem;
      border-radius: 8px;
    }
    .cta {
      text-align: left;
      margin-top: 3rem;
    }
    .cta input, .cta select, .cta textarea {
      width: 100%;
      padding: 0.8rem;
      margin-bottom: 1rem;
      border-radius: 4px;
      border: none;
      font-size: 1rem;
    }
    .cta button {
      background: var(--button-bg);
      color: var(--button-text);
      padding: 1rem 2rem;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .cta button:hover,
    .cta button:focus {
      background: #b4cfc0;    /* lighter variant on hover */
      color: #000;
      transition: background 0.25s ease;
    }
    
    .cta label input[type="checkbox"],
    .cta label input[type="radio"] {
      margin-right: 0.5rem;
      vertical-align: middle;
    }
    .team-section {
      padding: 4rem 2rem;
      background: var(--section-bg);
      text-align: center;
    }
    .team-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      justify-items: center;
      margin-top: 2rem;
    }
    .team-member {
      text-align: center;
    }
    .team-member img {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 50%;
      margin-bottom: 1rem;
      filter: grayscale(100%);
    }
    .team-member h3 {
      margin: 0.5rem 0 0.2rem;
      font-size: 1.1rem;
    }
    .team-member p {
      margin: 0;
      color: var(--secondary-color);
      font-size: 0.9rem;
    }
    footer {
      padding: 2rem;
      background: var(--bg-color);
      text-align: center;
      font-size: 0.9rem;
      color: var(--secondary-color);
    }
    .inline-options {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-bottom: 1rem;
    }
    
    .inline-options .option {
      display: flex;
      align-items: center;
    }
    
    .inline-options .option input {
      margin: 0;
    }
    
    .inline-options .option span {
      margin-left: 0.4rem;
      white-space: nowrap;
    }
    
    /* Professional labels on dark background */
    .question-label {
      display: block;
      font-weight: 600;
      color: #e6e6e6;        /* soft neutral instead of bright green */
      margin: 1.25rem 0 .5rem;
      letter-spacing: .02em;
    }
    
    /* Form fields on metallic background */
    input, textarea, select {
      background: #2b2b2b;               /* lighter gray, visible on #1e1e1e */
      color: #fff;
      border: 1px solid #444;
      border-radius: 6px;
      padding: 0.7rem;
      font-size: 1rem;
    }
    
    input::placeholder,
    textarea::placeholder {
      color: #aaa;                       /* subtle hint text */
    }
    
    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #9dbba7;             /* pastel-green accent */
      box-shadow: 0 0 0 2px rgba(157,187,167,0.3);
      background: #333;                  /* slight lift on focus */
    }

    /* Avatar mask with zoom control */
    .team-member .avatar {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      overflow: hidden;          /* hides edges when we zoom */
      margin: 0 auto 1rem;       /* keeps layout like before */
    }
    
    /* Use --avatar-zoom on the wrapper to control crop amount */
    .team-member .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;         /* fills the circle */
      transform: scale(var(--avatar-zoom, 1.0));
      transform-origin: center;
      filter: grayscale(100%);   /* preserves your grayscale look */
    }
    
    /* Normalize team card layout so names line up */
    .team-member { 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
    }
    
    /* The outer holder should be identical height for both patterns: 
       - direct <img> (others) 
       - .avatar wrapper (Genaro)
    */
    .team-member > img,
    .team-member .avatar {
      width: 150px;
      height: 150px;
      border-radius: 50%;   /* keep round look */
      overflow: hidden;     /* so zoomed inner image can crop */
      margin: 0 auto 1rem;  /* consistent gap above the name */
    }
    
    /* G Inner image: zoom + keep round crop handled by the wrapper */
    .team-member .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scale(var(--avatar-zoom, 1));
      transform-origin: center;
      filter: grayscale(100%);
      border-radius: 0;     /* avoid double rounding inside the mask */
    }
    
    /* --- Screenshots grid --- */
    .media-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 1rem;
    }
    .media-card {
      background: var(--section-bg);
      padding: 0.75rem;
      border-radius: 8px;
    }
    .media-card img {
      width: 100%;
      height: 260px;
      object-fit: cover;
      border-radius: 6px;
    }

    /* === Screenshots + System Requirements layout === */
    .showcase {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      align-items: center;
    }
    .showcase-left,
    .showcase-right {
      flex: 1 1 420px;
    }
    .slideshow {
      position: relative;
      width: 100%;
      max-width: 600px;
      aspect-ratio: 16/9;
      overflow: hidden;
      border-radius: 12px;
      background: #000;
    }
    .slideshow img {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      opacity: 0;
      animation: fadeSlide 15s infinite;
    }
    .slideshow img:nth-child(1) { animation-delay: 0s;  }
    .slideshow img:nth-child(2) { animation-delay: 5s;  }
    .slideshow img:nth-child(3) { animation-delay: 10s; }
    
    @keyframes fadeSlide {
      0%   {opacity: 0;}
      5%   {opacity: 1;}
      30%  {opacity: 1;}
      35%  {opacity: 0;}
      100% {opacity: 0;}
    }
    
    .requirements ul {
      list-style: disc;
      padding-left: 1.4rem;
    }
    .requirements li {
      margin-bottom: .4rem;
    }
    
    /* Gate panel */
    .download-panel {
      background: linear-gradient(135deg, #122, #1b1b1b);
      padding: 1.25rem;
      border-radius: 12px;
      border: 1px solid #233;
      margin-top: 1.25rem;
    }
    .download-actions {
      display: flex;
      flex-wrap: wrap;
      gap: .8rem;
      margin-top: .6rem;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      padding: .8rem 1.1rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
    }
    .btn-primary { background: var(--button-bg, #00f3a0); color: var(--button-text, #000); }
    .btn-ghost   { background: #000; color: #fff; border: 1px solid #333; }
    .muted { color: var(--secondary-color, #bbb); font-size: .95rem; }

    input[disabled], textarea[disabled], select[disabled] {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Pastel green links to match logo */
    a {
      color: #9dbba7;
      text-decoration: none;
      transition: color 0.2s ease;
    }
    a:hover,
    a:focus {
      color: #b4cfc0;          /* slightly lighter on hover */
      text-decoration: underline;
    }

    /* === YouTube embed === */
    .video-embed {
      position: relative;
      width: 100%;
      max-width: 960px;
      margin: 3rem auto;
      aspect-ratio: 16 / 9;
    }
    
    .video-embed iframe {
      width: 100%;
      height: 100%;
      border: 0;
      border-radius: 12px;
    }

    /* Panels: don't use [hidden] for reCAPTCHA areas; collapse instead */
    .panel {
      max-height: 5000px;        /* big enough for your long demo form */
      opacity: 1;
      overflow: visible;
      transition: opacity .15s ease, max-height .15s ease;
    }
    
    .panel.is-hidden {
      max-height: 0;
      opacity: 0;
      overflow: hidden;
      pointer-events: none;
    }
    
  </style>
</head>
  
<body>
  <header>
    <img src="latencyfix-logo.jpeg" alt="LatencyFix logo" />
    <p>Precision sync for studio, remote, and live audio collaboration</p>
  </header>

  <section class="section">
    <h2>Why LatencyFix?</h2>
    <p>Latency ruins musical timing, breaks creative flow, and makes remote production frustrating. LatencyFix solves that by intelligently synchronizing delays across all parts of your audio setup – from plugins and audio interfaces to internet connections and live gear.</p>
  </section>

  <section class="section">
    <h2>Make the world your recording room</h2>
    <div class="video-embed">
      <iframe
        src="https://www.youtube.com/embed/FBn3ywvH184"
        title="LatencyFix – Real-time latency synchronization demo"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
    </div>
  </section>

  <section class="section">
    <h2>Key Features</h2>
    <div class="features">
      <div class="feature">
        <h3>Plugin-based solution</h3>
        <p>Works inside any DAW and standalone. Install and sync automatically – no hardware required.</p>
      </div>
      <div class="feature">
        <h3>AI-powered sync</h3>
        <p>Predicts and synchronizes latency in real time across diverse setups.</p>
      </div>
      <div class="feature">
        <h3>Remote & live ready</h3>
        <p>Perfect for studios, streaming sessions, and hybrid performances.</p>
      </div>
      <div class="feature">
        <h3>Designed by audio engineers</h3>
        <p>Built by and for professionals with deep experience in audio production and signal processing.</p>
      </div>
    </div>
  </section>

  <section class="section">
  <h2>LatencyFix in action</h2>
  <p>Watch this quick demo to see how our plugin synchronizes latency.</p>
  <video width="100%" controls poster="latencyfix-demo-poster.png">
    <source src="latencyfix-demo.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  </section>

  <!-- Screenshots + System Requirements -->
  <section class="section">
    <div class="showcase">
      <!-- Left: slideshow -->
      <div class="showcase-left">
        <div class="slideshow">
          <img src="pic-ping-send.jpg" alt="LatencyFix screenshot 1">
          <img src="pic-ping-receive.jpg" alt="LatencyFix screenshot 2">
          <img src="pic-nudge.jpg" alt="LatencyFix screenshot 3">
        </div>
      </div>
  
      <!-- Right: system requirements -->
      <div class="showcase-right requirements">
        <h2>System requirements</h2>
          <ul>
            <li><strong>Operating system:</strong> macOS 10.6 or newer</li>
            <li><strong>DAW:</strong> Avid Pro Tools (2022.12 or later). Multi-DAW roadmap.</li>
            <li><strong>Processor:</strong> Intel i5 or Apple Silicon equivalent (2 GHz or higher)</li>
            <li><strong>RAM:</strong> 8 GB minimum (16 GB recommended)</li>
            <li><strong>Disk space:</strong> 13.1 MB</li>
            <li><strong>Audio interface:</strong> ASIO or Core Audio compatible</li>
          </ul>
        <h2>Technical specifications</h2>
        <ul>
          <li><strong>Plugin formats:</strong> VST 2.4/3, AAX, AU, RTAS</li>
          <li><strong>Sample rates:</strong> up to 192 kHz</li>
          <li><strong>Bit depth:</strong> 64 bits (floating point)</li>
          <li><strong>Channels:</strong> mono and stereo</li>
          <li><strong>Precision:</strong> &lt; 20 &micro;s</li>
        </ul>
      </div>
    </div>
  </section>
  
  <section class="team-section">
    <h2>Meet the team</h2>
    <div class="team-grid">
      <div class="team-member">
        <img src="Team-Elias.jpeg" alt="Elias Zea">
        <h3>Elias Zea, CTO</h3>
        <p>Founder / Technical R&D and Admin Lead</p>
        <p>Acoustics & AI Scientist</p>
      </div>
      <div class="team-member">
        <div class="avatar" style="--avatar-zoom:1.12">
          <img src="Team-Genaro.jpeg" alt="Genaro Mosquera">
        </div>
        <h3>Genaro Mosquera, CPO</h3>
        <p>Founder / Product Development Lead</p>
        <p>Music Production, Mix & Mastering Engineer</p>
      </div>
      <div class="team-member">
          <img src="Team-Daniel.jpeg" alt="Daniel De Sousa">
        <h3>Daniel De Sousa, CFO</h3>
        <p>Co-Founder / Business & Commercial Lead</p>
        <p>Music Business & Consultancy</p>
      </div>
      <div class="team-member">
        <img src="Team-Silvin.jpeg" alt="Silvin Willemsen">
        <h3>Silvin Willemsen</h3>
        <p>Founding Software Engineer</p>
        <p>Audio Plugin Developer</p>
      </div>
    </div>
  </section>

  <section class="section cta">  
    <!-- Switch buttons -->
    <div class="cta-switch" style="display:flex; gap:.75rem; flex-wrap:wrap; margin:1rem 0 1.25rem;">
      <button type="button" class="btn btn-primary" id="show-demo">Early-access demo</button>
      <button type="button" class="btn btn-secondary" id="show-contact">Contact us</button>
    </div>

    <h2 id="cta-title">Early-access demo</h2>
    <p id="cta-lead">Be among the first to experience seamless audio sync. Fill out the form below and download the demo to test LatencyFix now in your own studio or stage setup.</p>

  <!-- ========================= -->
  <!-- DEMO PANEL (UNCHANGED FORM) -->
  <!-- ========================= -->
  <div id="demo-panel" class="panel">
    <form id="beta-form" name="beta-signup" method="POST" data-netlify="true" data-netlify-recaptcha="true" netlify-honeypot="bot-field">
      
      <!-- Netlify Forms requires this hidden form-name field -->
      <input type="hidden" name="form-name" value="beta-signup">
      <!-- Simple spam trap (Netlify honeypot) -->
      <input type="text" name="bot-field" style="position:absolute;left:-10000px;opacity:0" tabindex="-1" autocomplete="off">
      
      <label for="name">Name</label>
      <input type="text" name="name" id="name" placeholder="Your full name" required><br><br>

      <label for="email">Email</label>
      <input type="email" name="email" id="email" placeholder="Your email address" required><br><br>

      <label class="question-label">Will you test the demo for...</label><br>
      <div class="inline-options">
        <div class="option"><label><input type="checkbox" name="demo" value="Studio"><span>Studio</span></label></div>
        <div class="option"><label><input type="checkbox" name="demo" value="Streaming"><span>Streaming</span></label></div>
        <div class="option"><label><input type="checkbox" name="demo" value="Live"><span>Live</span></label></div>
      </div>
      <input type="text" name="demo_other" placeholder="Other...">

      <label class="question-label">Are you a…</label>
      <div class="inline-options">
        <div class="option"><label><input type="checkbox" name="role" value="Sound Engineer"><span>Sound Engineer</span></label></div>
        <div class="option"><label><input type="checkbox" name="role" value="Music Producer"><span>Music Producer</span></label></div>
        <div class="option"><label><input type="checkbox" name="role" value="Systems Engineer"><span>Systems Engineer</span></label></div>
        <div class="option"><label><input type="checkbox" name="role" value="Event Producer"><span>Event Producer</span></label></div>
        <div class="option"><label><input type="checkbox" name="role" value="Independent Artist"><span>Independent Artist</span></label></div>
      </div>
      <input type="text" name="role_other" placeholder="Other...">
      
      <label class="question-label">How many years of experience do you have in your field?</label>
      <div class="inline-options">
        <div class="option"><label><input type="radio" name="experience_years" value="Less than 1 year"><span>Less than 1 year</span></label></div>
        <div class="option"><label><input type="radio" name="experience_years" value="1–3 years"><span>1–3 years</span></label></div>
        <div class="option"><label><input type="radio" name="experience_years" value="3–7 years"><span>3–7 years</span></label></div>
        <div class="option"><label><input type="radio" name="experience_years" value="Over 7 years"><span>Over 7 years</span></label></div>
      </div>

      <label class="question-label">Which platforms, tools, or DAWs do you use the most in your workflow?</label><br>
      <textarea name="platforms"></textarea><br>

      <label class="question-label">How often do you experience audio latency in your workflow?</label><br>
      <select name="latency_frequency">
        <option value="" disabled selected>Select one…</option>
        <option>Never</option>
        <option>Rarely</option>
        <option>Sometimes</option>
        <option>Often</option>
        <option>Always</option>
      </select><br>

      <label class="question-label">What do you currently do to handle audio latency in your workflow?</label><br>
      <textarea name="latency_handling"></textarea><br>

      <label class="question-label">How disruptive is latency to your workflow?</label><br>
      <select name="latency_disruption">
        <option value="" disabled selected>Select one…</option>
        <option>Not disruptive</option>
        <option>Slightly disruptive</option>
        <option>Moderately disruptive</option>
        <option>Very disruptive</option>
        <option>Extremely disruptive</option>
      </select><br>

      <label class="question-label">How does latency affect the productivity, creative flow, and quality of the recording?</label><br>
      <select name="latency_productivity">
        <option value="" disabled selected>Select one…</option>
        <option>No effect</option>
        <option>Slightly decreases</option>
        <option>Moderately decreases</option>
        <option>Severely decreases</option>
        <option>Stops workflow entirely</option>
      </select><br>

      <label class="question-label">Have latency issues ever cost you a client or deadline?</label><br>
      <select name="latency_impact">
        <option>Yes</option>
        <option>No</option>
      </select><br>

      <label class="question-label">Do latency issues affect your confidence in your setup?</label><br>
      <select name="latency_confidence">
        <option>Yes</option>
        <option>No</option>
        <option>Sometimes</option>
      </select><br>

      <label class="question-label">Would you pay for a tool that automatically syncs latency?</label><br>
      <select name="pay_interest">
        <option>Yes</option>
        <option>No</option>
        <option>Maybe / Depends on price</option>
      </select><br>

      <label class="question-label">What price would be acceptable?</label><br>
      <select name="price_range">
        <option value="" disabled selected>Select one…</option>
        <option>Under $20/month</option>
        <option>$20–49/month</option>
        <option>$50–99/month</option>
        <option>$100 or more</option>
        <option>I prefer paying per project</option>
        <option>I prefer a one-time license</option>
      </select><br>

      <label class="question-label">How urgently would you want a solution?</label><br>
      <select name="urgency">
        <option value="" disabled selected>Select one…</option>
        <option>Not urgent</option>
        <option>Slightly urgent</option>
        <option>Moderately urgent</option>
        <option>Very urgent</option>
        <option>Extremely urgent – I’d download it today</option>
      </select><br>

      <label class="question-label">Have you used or heard of similar plugins?</label><br>
      <select name="used_similar">
        <option>Yes</option>
        <option>No</option>
      </select><br>

      <label class="question-label">If yes, which ones?</label><br>
      <input type="text" name="similar_plugin"><br><br>

      <p class="muted" style="font-size:0.9rem; line-height:1.4; margin-top:1rem;">
        <strong>Data protection notice:</strong> Your responses are collected solely for
        participation in the LatencyFix beta program. We use this information to contact
        you about access to the demo, gather feedback, and share relevant updates.
        Data is processed under the GDPR on the basis of your consent and handled only
        by the LatencyFix development team. You may request deletion of your data at any time
        by emailing <a href="mailto:contact@latency-fix.com">contact@latency-fix.com</a>.
        Read our <a href="privacy.html">Privacy & Data Policy</a>.
      </p>
      
      <!-- Consent (required) -->
      <label class="question-label">
        <input type="checkbox" name="consent" value="yes" required>
        I agree to be contacted about the LatencyFix beta and downloads.
      </label>

      <div data-netlify-recaptcha="true"></div>
      
      <button type="submit">Submit</button>
    </form>

    <!-- Gate shown after successful submission -->
    <div id="download-gate" class="download-panel" hidden>
      <strong>Thanks! Your request has been received.</strong>
      <p class="muted" style="margin-top:.4rem;">
        You’ll receive an <b>email with your personal demo download link</b> shortly.
        Meanwhile, you can download the <b>User Manual</b> here:
      </p>
      <div class="download-actions">
        <a class="btn btn-primary" id="manual-link" href="LatencyFix-User-Manual.pdf" download>
          Download User Manual (PDF)
        </a>
      </div>
    </div>
    
    <!-- Status message under the submit button -->
    <div id="formStatus" class="muted" role="status" aria-live="polite" style="margin-top:.6rem;"></div>
  </div>

  <!-- ========================= -->
  <!-- CONTACT PANEL (NEW FORM)  -->
  <!-- ========================= -->
  <div id="contact-panel" class="panel is-hidden">
    <form id="contact-form"
          name="contact"
          method="POST"
          data-netlify="true"
          data-netlify-recaptcha="true"
          netlify-honeypot="bot-field-contact">
      
      <input type="hidden" name="form-name" value="contact">
      <input type="text" name="bot-field-contact" style="position:absolute;left:-10000px;opacity:0" tabindex="-1" autocomplete="off">

      <label for="contact-email">Email</label>
      <input type="email" name="email" id="contact-email" placeholder="Your email address" required><br><br>

      <label for="contact-message">Message</label>
      <textarea name="message" id="contact-message" placeholder="How can we help?" required></textarea><br><br>

      <div data-netlify-recaptcha="true"></div>

      <button type="submit">Send message</button>
    </form>

    <div id="contactStatus" class="muted" role="status" aria-live="polite" style="margin-top:.6rem;"></div>
  </div>

  <!-- ========================= -->
  <!-- TOGGLE + (OPTIONAL) STATUS -->
  <!-- ========================= -->
    <script>
    (function () {
      const demoPanel = document.getElementById('demo-panel');
      const contactPanel = document.getElementById('contact-panel');

      const btnDemo = document.getElementById('show-demo');
      const btnContact = document.getElementById('show-contact');

      const titleEl = document.getElementById('cta-title');
      const leadEl  = document.getElementById('cta-lead');

      const copy = {
        demo: {
          title: 'Early-access demo',
          lead: 'Be among the first to experience seamless audio sync. Fill out the form below and download the demo to test LatencyFix now in your own studio or stage setup.'
        },
        contact: {
          title: 'Contact us',
          lead: 'Send us a quick message and we’ll get back to you.'
        }
      };

      function setMode(mode) {
        const c = copy[mode];

        // Update heading + lead
        if (titleEl) titleEl.textContent = c.title;
        if (leadEl)  leadEl.textContent  = c.lead;

        // Toggle panels
        const isDemo = mode === 'demo';
        demoPanel.classList.toggle('is-hidden', !isDemo);
        contactPanel.classList.toggle('is-hidden', isDemo);

        // Active button styling (optional)
        btnDemo?.classList.toggle('active', isDemo);
        btnContact?.classList.toggle('active', !isDemo);
      }

      btnDemo?.addEventListener('click',   () => setMode('demo'));
      btnContact?.addEventListener('click',() => setMode('contact'));

      // Default
      setMode(window.location.hash === '#contact' ? 'contact' : 'demo');
    })();
  </script>
</section>

  <footer>
    &copy; 2026 LatencyFix. All rights reserved.<br>
    <a href="privacy.html" style="color:var(--secondary-color)">Privacy & Data Policy</a> |
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" style="color:var(--secondary-color)">
      CC BY-NC-ND 4.0 License
    </a>
  </footer>

  <script>
    (function () {
      const form   = document.getElementById('beta-form');
      const status = document.getElementById('formStatus');
      const gate   = document.getElementById('download-gate');
    
      if (!form) return;
    
      // Mark required singles
      const requiredSingles = [
        'name','email','experience_years','platforms','latency_frequency',
        'latency_handling','latency_disruption','latency_productivity',
        'latency_impact','latency_confidence','pay_interest','price_range',
        'urgency','used_similar','consent'
      ];
      requiredSingles.forEach(n => {
        form.querySelectorAll(`[name="${n}"]`).forEach(el => el.setAttribute('required','required'));
      });
    
      // Group validations
      function atLeastOneChecked(name){ return !!form.querySelector(`input[name="${name}"]:checked`); }
      function requireGroup(name, label){
        if (atLeastOneChecked(name)) return true;
        alert(`Please select at least one option for "${label}".`);
        const first = form.querySelector(`input[name="${name}"]`);
        if (first) first.focus();
        return false;
      }
    
      // Disable "similar_plugin" when used_similar = No
      const usedSimilarSelect = form.querySelector('select[name="used_similar"]');
      const similarInput      = form.querySelector('input[name="similar_plugin"]');
      if (usedSimilarSelect && similarInput) {
        const toggleSimilar = () => {
          const val = (usedSimilarSelect.value || '').toLowerCase();
          const disable = (val === 'no' || val === '');
          similarInput.disabled = disable;
          if (disable) similarInput.value = '';
        };
        usedSimilarSelect.addEventListener('change', toggleSimilar);
        toggleSimilar();
      }
    
      // Helper to x-www-form-urlencoded encode for Netlify Forms
      const encode = (obj) => new URLSearchParams(obj).toString();
    
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
    
        // browser-level required checks
        if (!form.checkValidity()) { form.reportValidity(); return; }
        // group checks
        if (!requireGroup('demo','Will you test the demo for...')) return;
        if (!requireGroup('role','Are you a…')) return;
    
        status.textContent = 'Submitting…';
    
        try {
          // Build form payload once
          const fd = new FormData(form);
          // Netlify Forms needs form-name present (it is, via hidden input)
          if (!fd.get('form-name')) fd.set('form-name', form.getAttribute('name') || 'beta-signup');
    
          // 1) STORE in Netlify Forms (so you can export CSV later)
          // POST to current page "/" with x-www-form-urlencoded body as per Netlify docs
          await fetch('/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: encode(Object.fromEntries(fd))
          });
    
          // 2) EMAIL via your Netlify Function (secure link)
          const res = await fetch('/.netlify/functions/send-demo', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(Object.fromEntries(fd))
          });
    
          if (res.ok) {
            status.textContent = 'Thanks! Your request has been received.';
            if (gate) gate.hidden = false;
            if (gate) window.scrollTo({ top: gate.offsetTop - 16, behavior: 'smooth' });
            form.reset();
            if (usedSimilarSelect && similarInput) {
              usedSimilarSelect.value = '';
              similarInput.disabled = true;
            }
          } else {
            const msg = await res.text().catch(()=> '');
            status.textContent = 'Submission stored, but email failed. Please contact us.' + (msg ? ` (${msg})` : '');
          }
        } catch (err) {
          status.textContent = 'Network error. Please try again.';
        }
      });
    })();
    </script>
            
</body>
</html>
